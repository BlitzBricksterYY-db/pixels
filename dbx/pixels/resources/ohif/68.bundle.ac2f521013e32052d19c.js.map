{"version":3,"file":"68.bundle.ac2f521013e32052d19c.js","mappings":"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","sources":["webpack:///../../../modes/longitudinal/src/id.js","webpack:///../../../modes/longitudinal/src/initToolGroups.js","webpack:///../../../modes/longitudinal/src/moreTools.ts","webpack:///../../../modes/longitudinal/src/moreToolsMpr.ts","webpack:///../../../modes/longitudinal/src/toolbarButtons.ts","webpack:///../../../modes/longitudinal/src/index.js"],"sourcesContent":["import packageJson from '../package.json';\n\nconst id = packageJson.name;\n\nexport { id };\n","function initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, toolGroupId) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\n      },\n      { toolName: toolNames.StackScrollMouseWheel, bindings: [] },\n    ],\n    passive: [\n      { toolName: toolNames.Length },\n      {\n        toolName: toolNames.ArrowAnnotate,\n        configuration: {\n          getTextCallback: (callback, eventDetails) =>\n            commandsManager.runCommand('arrowTextCallback', {\n              callback,\n              eventDetails,\n            }),\n\n          changeTextCallback: (data, eventDetails, callback) =>\n            commandsManager.runCommand('arrowTextCallback', {\n              callback,\n              data,\n              eventDetails,\n            }),\n        },\n      },\n      { toolName: toolNames.Bidirectional },\n      { toolName: toolNames.DragProbe },\n      { toolName: toolNames.EllipticalROI },\n      { toolName: toolNames.CircleROI },\n      { toolName: toolNames.RectangleROI },\n      { toolName: toolNames.StackScroll },\n      { toolName: toolNames.Angle },\n      { toolName: toolNames.CobbAngle },\n      { toolName: toolNames.PlanarFreehandROI },\n      { toolName: toolNames.Magnify },\n      { toolName: toolNames.SegmentationDisplay },\n      { toolName: toolNames.CalibrationLine },\n    ],\n    // enabled\n    enabled: [{ toolName: toolNames.ImageOverlayViewer }],\n    // disabled\n    disabled: [{ toolName: toolNames.ReferenceLines }],\n  };\n\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\n}\n\nfunction initSRToolGroup(extensionManager, toolGroupService, commandsManager) {\n  const SRUtilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone-dicom-sr.utilityModule.tools'\n  );\n\n  if (!SRUtilityModule) {\n    return;\n  }\n\n  const CS3DUtilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames: SRToolNames } = SRUtilityModule.exports;\n  const { toolNames, Enums } = CS3DUtilityModule.exports;\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Primary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Auxiliary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Secondary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.StackScrollMouseWheel,\n        bindings: [],\n      },\n    ],\n    passive: [\n      { toolName: SRToolNames.SRLength },\n      { toolName: SRToolNames.SRArrowAnnotate },\n      { toolName: SRToolNames.SRBidirectional },\n      { toolName: SRToolNames.SREllipticalROI },\n      { toolName: SRToolNames.SRCircleROI },\n    ],\n    enabled: [\n      {\n        toolName: SRToolNames.DICOMSRDisplay,\n        bindings: [],\n      },\n    ],\n    // disabled\n  };\n\n  const toolGroupId = 'SRToolGroup';\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\n}\n\nfunction initMPRToolGroup(extensionManager, toolGroupService, commandsManager) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\n      },\n      { toolName: toolNames.StackScrollMouseWheel, bindings: [] },\n    ],\n    passive: [\n      { toolName: toolNames.Length },\n      {\n        toolName: toolNames.ArrowAnnotate,\n        configuration: {\n          getTextCallback: (callback, eventDetails) =>\n            commandsManager.runCommand('arrowTextCallback', {\n              callback,\n              eventDetails,\n            }),\n\n          changeTextCallback: (data, eventDetails, callback) =>\n            commandsManager.runCommand('arrowTextCallback', {\n              callback,\n              data,\n              eventDetails,\n            }),\n        },\n      },\n      { toolName: toolNames.Bidirectional },\n      { toolName: toolNames.DragProbe },\n      { toolName: toolNames.EllipticalROI },\n      { toolName: toolNames.CircleROI },\n      { toolName: toolNames.RectangleROI },\n      { toolName: toolNames.StackScroll },\n      { toolName: toolNames.Angle },\n      { toolName: toolNames.CobbAngle },\n      { toolName: toolNames.PlanarFreehandROI },\n      { toolName: toolNames.SegmentationDisplay },\n    ],\n    disabled: [\n      {\n        toolName: toolNames.Crosshairs,\n        configuration: {\n          viewportIndicators: false,\n          autoPan: {\n            enabled: false,\n            panSize: 10,\n          },\n        },\n      },\n      { toolName: toolNames.ReferenceLines },\n    ],\n\n    // enabled\n    // disabled\n  };\n\n  toolGroupService.createToolGroupAndAddTools('mpr', tools);\n}\nfunction initVolume3DToolGroup(extensionManager, toolGroupService) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.TrackballRotateTool,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n    ],\n  };\n\n  toolGroupService.createToolGroupAndAddTools('volume3d', tools);\n}\n\nfunction initToolGroups(extensionManager, toolGroupService, commandsManager) {\n  initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, 'default');\n  initSRToolGroup(extensionManager, toolGroupService, commandsManager);\n  initMPRToolGroup(extensionManager, toolGroupService, commandsManager);\n  initVolume3DToolGroup(extensionManager, toolGroupService);\n}\n\nexport default initToolGroups;\n","import type { RunCommand } from '@ohif/core/types';\nimport { EVENTS } from '@cornerstonejs/core';\nimport { ToolbarService } from '@ohif/core';\n\nconst ReferenceLinesCommands: RunCommand = [\n  {\n    commandName: 'setSourceViewportForReferenceLinesTool',\n    context: 'CORNERSTONE',\n  },\n  {\n    commandName: 'setToolActive',\n    commandOptions: {\n      toolName: 'ReferenceLines',\n    },\n    context: 'CORNERSTONE',\n  },\n];\n\nconst moreTools = [\n  {\n    id: 'MoreTools',\n    type: 'ohif.splitButton',\n    props: {\n      isRadio: true, // ?\n      groupId: 'MoreTools',\n      primary: ToolbarService._createActionButton(\n        'Reset',\n        'tool-reset',\n        'Reset View',\n        [\n          {\n            commandName: 'resetViewport',\n            commandOptions: {},\n            context: 'CORNERSTONE',\n          },\n        ],\n        'Reset'\n      ),\n      secondary: {\n        icon: 'chevron-down',\n        label: '',\n        isActive: true,\n        tooltip: 'More Tools',\n      },\n      items: [\n        ToolbarService._createActionButton(\n          'Reset',\n          'tool-reset',\n          'Reset View',\n          [\n            {\n              commandName: 'resetViewport',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Reset'\n        ),\n        ToolbarService._createActionButton(\n          'rotate-right',\n          'tool-rotate-right',\n          'Rotate Right',\n          [\n            {\n              commandName: 'rotateViewportCW',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Rotate +90'\n        ),\n        ToolbarService._createActionButton(\n          'flip-horizontal',\n          'tool-flip-horizontal',\n          'Flip Horizontally',\n          [\n            {\n              commandName: 'flipViewportHorizontal',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Flip Horizontal'\n        ),\n        ToolbarService._createToggleButton(\n          'ImageSliceSync',\n          'link',\n          'Image Slice Sync',\n          [\n            {\n              commandName: 'toggleImageSliceSync',\n            },\n          ],\n          'Enable position synchronization on stack viewports',\n          {\n            listeners: {\n              [EVENTS.STACK_VIEWPORT_NEW_STACK]: {\n                commandName: 'toggleImageSliceSync',\n                commandOptions: { toggledState: true },\n              },\n            },\n          }\n        ),\n        ToolbarService._createToggleButton(\n          'ReferenceLines',\n          'tool-referenceLines', // change this with the new icon\n          'Reference Lines',\n          ReferenceLinesCommands,\n          'Show Reference Lines',\n          {\n            listeners: {\n              [EVENTS.STACK_VIEWPORT_NEW_STACK]: ReferenceLinesCommands,\n              [EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]: ReferenceLinesCommands,\n            },\n          }\n        ),\n        ToolbarService._createToggleButton(\n          'ImageOverlayViewer',\n          'toggle-dicom-overlay',\n          'Image Overlay',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'ImageOverlayViewer',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Image Overlay',\n          { isActive: true }\n        ),\n        ToolbarService._createToolButton(\n          'StackScroll',\n          'tool-stack-scroll',\n          'Stack Scroll',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'StackScroll',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Stack Scroll'\n        ),\n        ToolbarService._createActionButton(\n          'invert',\n          'tool-invert',\n          'Invert',\n          [\n            {\n              commandName: 'invertViewport',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Invert Colors'\n        ),\n        ToolbarService._createToolButton(\n          'Probe',\n          'tool-probe',\n          'Probe',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'DragProbe',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Probe'\n        ),\n        ToolbarService._createToggleButton(\n          'cine',\n          'tool-cine',\n          'Cine',\n          [\n            {\n              commandName: 'toggleCine',\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Cine'\n        ),\n        ToolbarService._createToolButton(\n          'Angle',\n          'tool-angle',\n          'Angle',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'Angle',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Angle'\n        ),\n\n        // Next two tools can be added once icons are added\n        // ToolbarService._createToolButton(\n        //   'Cobb Angle',\n        //   'tool-cobb-angle',\n        //   'Cobb Angle',\n        //   [\n        //     {\n        //       commandName: 'setToolActive',\n        //       commandOptions: {\n        //         toolName: 'CobbAngle',\n        //       },\n        //       context: 'CORNERSTONE',\n        //     },\n        //   ],\n        //   'Cobb Angle'\n        // ),\n        // ToolbarService._createToolButton(\n        //   'Planar Freehand ROI',\n        //   'tool-freehand',\n        //   'PlanarFreehandROI',\n        //   [\n        //     {\n        //       commandName: 'setToolActive',\n        //       commandOptions: {\n        //         toolName: 'PlanarFreehandROI',\n        //       },\n        //       context: 'CORNERSTONE',\n        //     },\n        //   ],\n        //   'Planar Freehand ROI'\n        // ),\n        ToolbarService._createToolButton(\n          'Magnify',\n          'tool-magnify',\n          'Magnify',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'Magnify',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Magnify'\n        ),\n        ToolbarService._createToolButton(\n          'Rectangle',\n          'tool-rectangle',\n          'Rectangle',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'RectangleROI',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Rectangle'\n        ),\n        ToolbarService._createToolButton(\n          'CalibrationLine',\n          'tool-calibration',\n          'Calibration',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'CalibrationLine',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Calibration Line'\n        ),\n        ToolbarService._createActionButton(\n          'TagBrowser',\n          'list-bullets',\n          'Dicom Tag Browser',\n          [\n            {\n              commandName: 'openDICOMTagViewer',\n              commandOptions: {},\n              context: 'DEFAULT',\n            },\n          ],\n          'Dicom Tag Browser'\n        ),\n      ],\n    },\n  },\n];\n\nexport default moreTools;\n","import type { RunCommand } from '@ohif/core/types';\nimport { EVENTS } from '@cornerstonejs/core';\nimport { ToolbarService } from '@ohif/core';\n\nconst ReferenceLinesCommands: RunCommand = [\n  {\n    commandName: 'setSourceViewportForReferenceLinesTool',\n    context: 'CORNERSTONE',\n  },\n  {\n    commandName: 'setToolActive',\n    commandOptions: {\n      toolName: 'ReferenceLines',\n    },\n    context: 'CORNERSTONE',\n  },\n];\n\nconst moreToolsMpr = [\n  {\n    id: 'MoreToolsMpr',\n    type: 'ohif.splitButton',\n    props: {\n      isRadio: true, // ?\n      groupId: 'MoreTools',\n      primary: ToolbarService._createActionButton(\n        'Reset',\n        'tool-reset',\n        'Reset View',\n        [\n          {\n            commandName: 'resetViewport',\n            commandOptions: {},\n            context: 'CORNERSTONE',\n          },\n        ],\n        'Reset'\n      ),\n      secondary: {\n        icon: 'chevron-down',\n        label: '',\n        isActive: true,\n        tooltip: 'More Tools',\n      },\n      items: [\n        ToolbarService._createActionButton(\n          'Reset',\n          'tool-reset',\n          'Reset View',\n          [\n            {\n              commandName: 'resetViewport',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Reset'\n        ),\n        ToolbarService._createToggleButton(\n          'ImageSliceSync',\n          'link',\n          'Image Slice Sync',\n          [\n            {\n              commandName: 'toggleImageSliceSync',\n            },\n          ],\n          'Enable position synchronization on stack viewports',\n          {\n            listeners: {\n              [EVENTS.STACK_VIEWPORT_NEW_STACK]: {\n                commandName: 'toggleImageSliceSync',\n                commandOptions: { toggledState: true },\n              },\n            },\n          }\n        ),\n        ToolbarService._createToggleButton(\n          'ReferenceLines',\n          'tool-referenceLines', // change this with the new icon\n          'Reference Lines',\n          ReferenceLinesCommands,\n          'Show Reference Lines',\n          {\n            listeners: {\n              [EVENTS.STACK_VIEWPORT_NEW_STACK]: ReferenceLinesCommands,\n              [EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]: ReferenceLinesCommands,\n            },\n          }\n        ),\n        ToolbarService._createToggleButton(\n          'ImageOverlayViewer',\n          'toggle-dicom-overlay',\n          'Image Overlay',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'ImageOverlayViewer',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Image Overlay',\n          { isActive: true }\n        ),\n        ToolbarService._createToolButton(\n          'StackScroll',\n          'tool-stack-scroll',\n          'Stack Scroll',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'StackScroll',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Stack Scroll'\n        ),\n        ToolbarService._createActionButton(\n          'invert',\n          'tool-invert',\n          'Invert',\n          [\n            {\n              commandName: 'invertViewport',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Invert Colors'\n        ),\n        ToolbarService._createToolButton(\n          'Probe',\n          'tool-probe',\n          'Probe',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'DragProbe',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Probe'\n        ),\n        ToolbarService._createToggleButton(\n          'cine',\n          'tool-cine',\n          'Cine',\n          [\n            {\n              commandName: 'toggleCine',\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Cine'\n        ),\n        ToolbarService._createToolButton(\n          'Angle',\n          'tool-angle',\n          'Angle',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'Angle',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Angle'\n        ),\n\n        // Next two tools can be added once icons are added\n        // ToolbarService._createToolButton(\n        //   'Cobb Angle',\n        //   'tool-cobb-angle',\n        //   'Cobb Angle',\n        //   [\n        //     {\n        //       commandName: 'setToolActive',\n        //       commandOptions: {\n        //         toolName: 'CobbAngle',\n        //       },\n        //       context: 'CORNERSTONE',\n        //     },\n        //   ],\n        //   'Cobb Angle'\n        // ),\n        // ToolbarService._createToolButton(\n        //   'Planar Freehand ROI',\n        //   'tool-freehand',\n        //   'PlanarFreehandROI',\n        //   [\n        //     {\n        //       commandName: 'setToolActive',\n        //       commandOptions: {\n        //         toolName: 'PlanarFreehandROI',\n        //       },\n        //       context: 'CORNERSTONE',\n        //     },\n        //   ],\n        //   'Planar Freehand ROI'\n        // ),\n        ToolbarService._createToolButton(\n          'Rectangle',\n          'tool-rectangle',\n          'Rectangle',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'RectangleROI',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Rectangle'\n        ),\n        ToolbarService._createActionButton(\n          'TagBrowser',\n          'list-bullets',\n          'Dicom Tag Browser',\n          [\n            {\n              commandName: 'openDICOMTagViewer',\n              commandOptions: {},\n              context: 'DEFAULT',\n            },\n          ],\n          'Dicom Tag Browser'\n        ),\n      ],\n    },\n  },\n];\n\nexport default moreToolsMpr;\n","// TODO: torn, can either bake this here; or have to create a whole new button type\n// Only ways that you can pass in a custom React component for render :l\nimport {\n  // ExpandableToolbarButton,\n  // ListMenu,\n  WindowLevelMenuItem,\n} from '@ohif/ui';\nimport { defaults, ToolbarService } from '@ohif/core';\nimport type { Button } from '@ohif/core/types';\n\nconst { windowLevelPresets } = defaults;\n\n/**\n *\n * @param {*} preset - preset number (from above import)\n * @param {*} title\n * @param {*} subtitle\n */\nfunction _createWwwcPreset(preset, title, subtitle) {\n  return {\n    id: preset.toString(),\n    title,\n    subtitle,\n    type: 'action',\n    commands: [\n      {\n        commandName: 'setWindowLevel',\n        commandOptions: {\n          ...windowLevelPresets[preset],\n        },\n        context: 'CORNERSTONE',\n      },\n    ],\n  };\n}\n\nconst toolGroupIds = ['default', 'mpr', 'SRToolGroup'];\n\n/**\n * Creates an array of 'setToolActive' commands for the given toolName - one for\n * each toolGroupId specified in toolGroupIds.\n * @param {string} toolName\n * @returns {Array} an array of 'setToolActive' commands\n */\nfunction _createSetToolActiveCommands(toolName) {\n  const temp = toolGroupIds.map(toolGroupId => ({\n    commandName: 'setToolActive',\n    commandOptions: {\n      toolGroupId,\n      toolName,\n    },\n    context: 'CORNERSTONE',\n  }));\n  return temp;\n}\n\nconst toolbarButtons: Button[] = [\n  // Measurement\n  {\n    id: 'MeasurementTools',\n    type: 'ohif.splitButton',\n    props: {\n      groupId: 'MeasurementTools',\n      isRadio: true, // ?\n      // Switch?\n      primary: ToolbarService._createToolButton(\n        'Length',\n        'tool-length',\n        'Length',\n        [\n          {\n            commandName: 'setToolActive',\n            commandOptions: {\n              toolName: 'Length',\n            },\n            context: 'CORNERSTONE',\n          },\n          {\n            commandName: 'setToolActive',\n            commandOptions: {\n              toolName: 'SRLength',\n              toolGroupId: 'SRToolGroup',\n            },\n            // we can use the setToolActive command for this from Cornerstone commandsModule\n            context: 'CORNERSTONE',\n          },\n        ],\n        'Length'\n      ),\n      secondary: {\n        icon: 'chevron-down',\n        label: '',\n        isActive: true,\n        tooltip: 'More Measure Tools',\n      },\n      items: [\n        ToolbarService._createToolButton(\n          'Length',\n          'tool-length',\n          'Length',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'Length',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SRLength',\n                toolGroupId: 'SRToolGroup',\n              },\n              // we can use the setToolActive command for this from Cornerstone commandsModule\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Length Tool'\n        ),\n        ToolbarService._createToolButton(\n          'Bidirectional',\n          'tool-bidirectional',\n          'Bidirectional',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'Bidirectional',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SRBidirectional',\n                toolGroupId: 'SRToolGroup',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Bidirectional Tool'\n        ),\n        ToolbarService._createToolButton(\n          'ArrowAnnotate',\n          'tool-annotate',\n          'Annotation',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'ArrowAnnotate',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SRArrowAnnotate',\n                toolGroupId: 'SRToolGroup',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Arrow Annotate'\n        ),\n        ToolbarService._createToolButton(\n          'EllipticalROI',\n          'tool-elipse',\n          'Ellipse',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'EllipticalROI',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SREllipticalROI',\n                toolGroupId: 'SRToolGroup',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Ellipse Tool'\n        ),\n        ToolbarService._createToolButton(\n          'CircleROI',\n          'tool-circle',\n          'Circle',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'CircleROI',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SRCircleROI',\n                toolGroupId: 'SRToolGroup',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Circle Tool'\n        ),\n      ],\n    },\n  },\n  // Zoom..\n  {\n    id: 'Zoom',\n    type: 'ohif.radioGroup',\n    props: {\n      type: 'tool',\n      icon: 'tool-zoom',\n      label: 'Zoom',\n      commands: _createSetToolActiveCommands('Zoom'),\n    },\n  },\n  // Window Level + Presets...\n  {\n    id: 'WindowLevel',\n    type: 'ohif.splitButton',\n    props: {\n      groupId: 'WindowLevel',\n      primary: ToolbarService._createToolButton(\n        'WindowLevel',\n        'tool-window-level',\n        'Window Level',\n        [\n          {\n            commandName: 'setToolActive',\n            commandOptions: {\n              toolName: 'WindowLevel',\n            },\n            context: 'CORNERSTONE',\n          },\n        ],\n        'Window Level'\n      ),\n      secondary: {\n        icon: 'chevron-down',\n        label: 'W/L Manual',\n        isActive: true,\n        tooltip: 'W/L Presets',\n      },\n      isAction: true, // ?\n      renderer: WindowLevelMenuItem,\n      items: [\n        _createWwwcPreset(1, 'Soft tissue', '400 / 40'),\n        _createWwwcPreset(2, 'Lung', '1500 / -600'),\n        _createWwwcPreset(3, 'Liver', '150 / 90'),\n        _createWwwcPreset(4, 'Bone', '2500 / 480'),\n        _createWwwcPreset(5, 'Brain', '80 / 40'),\n      ],\n    },\n  },\n  // Pan...\n  {\n    id: 'Pan',\n    type: 'ohif.radioGroup',\n    props: {\n      type: 'tool',\n      icon: 'tool-move',\n      label: 'Pan',\n      commands: _createSetToolActiveCommands('Pan'),\n    },\n  },\n  {\n    id: 'Capture',\n    type: 'ohif.action',\n    props: {\n      icon: 'tool-capture',\n      label: 'Capture',\n      type: 'action',\n      commands: [\n        {\n          commandName: 'showDownloadViewportModal',\n          commandOptions: {},\n          context: 'CORNERSTONE',\n        },\n      ],\n    },\n  },\n  {\n    id: 'Layout',\n    type: 'ohif.layoutSelector',\n    props: {\n      rows: 3,\n      columns: 3,\n    },\n  },\n  {\n    id: 'MPR',\n    type: 'ohif.action',\n    props: {\n      type: 'toggle',\n      icon: 'icon-mpr',\n      label: 'MPR',\n      commands: [\n        {\n          commandName: 'toggleHangingProtocol',\n          commandOptions: {\n            protocolId: 'mpr',\n          },\n          context: 'DEFAULT',\n        },\n      ],\n    },\n  },\n  {\n    id: 'Crosshairs',\n    type: 'ohif.radioGroup',\n    props: {\n      type: 'tool',\n      icon: 'tool-crosshair',\n      label: 'Crosshairs',\n      commands: [\n        {\n          commandName: 'setToolActive',\n          commandOptions: {\n            toolName: 'Crosshairs',\n            toolGroupId: 'mpr',\n          },\n          context: 'CORNERSTONE',\n        },\n      ],\n    },\n  },\n  // More...\n];\n\nexport default toolbarButtons;\n","import { hotkeys } from '@ohif/core';\nimport i18n from 'i18next';\nimport { id } from './id';\nimport initToolGroups from './initToolGroups';\nimport moreTools from './moreTools';\nimport moreToolsMpr from './moreToolsMpr';\nimport toolbarButtons from './toolbarButtons';\n\n// Allow this mode by excluding non-imaging modalities such as SR, SEG\n// Also, SM is not a simple imaging modalities, so exclude it.\nconst NON_IMAGE_MODALITIES = ['SM', 'ECG', 'SR', 'SEG', 'RTSTRUCT'];\n\nconst DEFAULT_TOOL_GROUP_ID = 'default';\nconst MPR_TOOL_GROUP_ID = 'mpr';\n\nconst ohif = {\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\n  thumbnailList: '@ohif/extension-default.panelModule.seriesList',\n};\n\nconst tracked = {\n  measurements: '@ohif/extension-measurement-tracking.panelModule.trackedMeasurements',\n  thumbnailList: '@ohif/extension-measurement-tracking.panelModule.seriesList',\n  viewport: '@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked',\n};\n\nconst dicomsr = {\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr',\n  viewport: '@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr',\n};\n\nconst dicomvideo = {\n  sopClassHandler: '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\n};\n\nconst dicompdf = {\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\n};\n\nconst dicomSeg = {\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg',\n  viewport: '@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg',\n  panel: '@ohif/extension-cornerstone-dicom-seg.panelModule.panelSegmentation',\n};\n\nconst dicomRT = {\n  viewport: '@ohif/extension-cornerstone-dicom-rt.viewportModule.dicom-rt',\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-rt.sopClassHandlerModule.dicom-rt',\n};\n\nconst extensionDependencies = {\n  // Can derive the versions at least process.env.from npm_package_version\n  '@ohif/extension-default': '^3.0.0',\n  '@ohif/extension-cornerstone': '^3.0.0',\n  '@ohif/extension-measurement-tracking': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-seg': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-rt': '^3.0.0',\n  '@ohif/extension-dicom-pdf': '^3.0.1',\n  '@ohif/extension-dicom-video': '^3.0.1',\n};\n\nfunction modeFactory({ modeConfiguration }) {\n  let _activatePanelTriggersSubscriptions = [];\n  return {\n    // TODO: We're using this as a route segment\n    // We should not be.\n    id,\n    routeName: 'viewer',\n    displayName: i18n.t('Modes:Basic Viewer'),\n    /**\n     * Lifecycle hooks\n     */\n    onModeEnter: ({ servicesManager, extensionManager, commandsManager }) => {\n      const {\n        measurementService,\n        toolbarService,\n        toolGroupService,\n        panelService,\n        customizationService,\n      } = servicesManager.services;\n\n      measurementService.clearMeasurements();\n\n      // Init Default and SR ToolGroups\n      initToolGroups(extensionManager, toolGroupService, commandsManager);\n\n      let unsubscribe;\n      toolbarService.setDefaultTool({\n        groupId: 'WindowLevel',\n        itemId: 'WindowLevel',\n        interactionType: 'tool',\n        commands: [\n          {\n            commandName: 'setToolActive',\n            commandOptions: {\n              toolName: 'WindowLevel',\n            },\n            context: 'CORNERSTONE',\n          },\n        ],\n      });\n\n      const activateTool = () => {\n        toolbarService.recordInteraction(toolbarService.getDefaultTool());\n\n        // We don't need to reset the active tool whenever a viewport is getting\n        // added to the toolGroup.\n        unsubscribe();\n      };\n\n      // Since we only have one viewport for the basic cs3d mode and it has\n      // only one hanging protocol, we can just use the first viewport\n      ({ unsubscribe } = toolGroupService.subscribe(\n        toolGroupService.EVENTS.VIEWPORT_ADDED,\n        activateTool\n      ));\n\n      toolbarService.init(extensionManager);\n      toolbarService.addButtons([...toolbarButtons, ...moreTools, ...moreToolsMpr]);\n      toolbarService.createButtonSection(DEFAULT_TOOL_GROUP_ID, [\n        'MeasurementTools',\n        'Zoom',\n        'WindowLevel',\n        'Pan',\n        'Capture',\n        'Layout',\n        'MPR',\n        'MoreTools',\n      ]);\n      toolbarService.createButtonSection(MPR_TOOL_GROUP_ID, [\n        'MeasurementTools',\n        'Zoom',\n        'WindowLevel',\n        'Pan',\n        'Capture',\n        'Layout',\n        'MPR',\n        'Crosshairs',\n        'MoreToolsMpr',\n      ]);\n\n      customizationService.addModeCustomizations([\n        {\n          id: 'segmentation.disableEditing',\n          value: true,\n        },\n      ]);\n\n      // // ActivatePanel event trigger for when a segmentation or measurement is added.\n      // // Do not force activation so as to respect the state the user may have left the UI in.\n      // _activatePanelTriggersSubscriptions = [\n      //   ...panelService.addActivatePanelTriggers(dicomSeg.panel, [\n      //     {\n      //       sourcePubSubService: segmentationService,\n      //       sourceEvents: [\n      //         segmentationService.EVENTS.SEGMENTATION_PIXEL_DATA_CREATED,\n      //       ],\n      //     },\n      //   ]),\n      //   ...panelService.addActivatePanelTriggers(tracked.measurements, [\n      //     {\n      //       sourcePubSubService: measurementService,\n      //       sourceEvents: [\n      //         measurementService.EVENTS.MEASUREMENT_ADDED,\n      //         measurementService.EVENTS.RAW_MEASUREMENT_ADDED,\n      //       ],\n      //     },\n      //   ]),\n      // ];\n    },\n    onModeExit: ({ servicesManager }) => {\n      const {\n        toolGroupService,\n        syncGroupService,\n        toolbarService,\n        segmentationService,\n        cornerstoneViewportService,\n      } = servicesManager.services;\n\n      _activatePanelTriggersSubscriptions.forEach(sub => sub.unsubscribe());\n      _activatePanelTriggersSubscriptions = [];\n\n      toolGroupService.destroy();\n      syncGroupService.destroy();\n      segmentationService.destroy();\n      cornerstoneViewportService.destroy();\n    },\n    validationTags: {\n      study: [],\n      series: [],\n    },\n\n    isValidMode: function ({ modalities }) {\n      const modalities_list = modalities.split('\\\\');\n\n      // Exclude non-image modalities\n      return !!modalities_list.filter(modality => NON_IMAGE_MODALITIES.indexOf(modality) === -1)\n        .length;\n    },\n    routes: [\n      {\n        path: 'longitudinal',\n        /*init: ({ servicesManager, extensionManager }) => {\n          //defaultViewerRouteInit\n        },*/\n        layoutTemplate: () => {\n          return {\n            id: ohif.layout,\n            props: {\n              leftPanels: [tracked.thumbnailList],\n              rightPanels: [dicomSeg.panel, tracked.measurements],\n              rightPanelDefaultClosed: true,\n              viewports: [\n                {\n                  namespace: tracked.viewport,\n                  displaySetsToDisplay: [ohif.sopClassHandler],\n                },\n                {\n                  namespace: dicomsr.viewport,\n                  displaySetsToDisplay: [dicomsr.sopClassHandler],\n                },\n                {\n                  namespace: dicomvideo.viewport,\n                  displaySetsToDisplay: [dicomvideo.sopClassHandler],\n                },\n                {\n                  namespace: dicompdf.viewport,\n                  displaySetsToDisplay: [dicompdf.sopClassHandler],\n                },\n                {\n                  namespace: dicomSeg.viewport,\n                  displaySetsToDisplay: [dicomSeg.sopClassHandler],\n                },\n                {\n                  namespace: dicomRT.viewport,\n                  displaySetsToDisplay: [dicomRT.sopClassHandler],\n                },\n              ],\n            },\n          };\n        },\n      },\n    ],\n    extensions: extensionDependencies,\n    // Default protocol gets self-registered by default in the init\n    hangingProtocol: 'default',\n    // Order is important in sop class handlers when two handlers both use\n    // the same sop class under different situations.  In that case, the more\n    // general handler needs to come last.  For this case, the dicomvideo must\n    // come first to remove video transfer syntax before ohif uses images\n    sopClassHandlers: [\n      dicomvideo.sopClassHandler,\n      dicomSeg.sopClassHandler,\n      ohif.sopClassHandler,\n      dicompdf.sopClassHandler,\n      dicomsr.sopClassHandler,\n      dicomRT.sopClassHandler,\n    ],\n    hotkeys: [...hotkeys.defaults.hotkeyBindings],\n    ...modeConfiguration,\n  };\n}\n\nconst mode = {\n  id,\n  modeFactory,\n  extensionDependencies,\n};\n\nexport default mode;\nexport { initToolGroups, moreTools, toolbarButtons };\n"],"names":["id","packageJson","extensionManager","toolGroupService","commandsManager","toolGroupId","utilityModule","getModuleEntry","toolNames","Enums","exports","tools","active","toolName","WindowLevel","bindings","mouseButton","MouseBindings","Primary","Pan","Auxiliary","Zoom","Secondary","StackScrollMouseWheel","passive","Length","ArrowAnnotate","configuration","getTextCallback","callback","eventDetails","runCommand","changeTextCallback","data","Bidirectional","DragProbe","EllipticalROI","CircleROI","RectangleROI","StackScroll","Angle","CobbAngle","PlanarFreehandROI","Magnify","SegmentationDisplay","CalibrationLine","enabled","ImageOverlayViewer","disabled","ReferenceLines","createToolGroupAndAddTools","initDefaultToolGroup","SRUtilityModule","CS3DUtilityModule","SRToolNames","SRLength","SRArrowAnnotate","SRBidirectional","SREllipticalROI","SRCircleROI","DICOMSRDisplay","initSRToolGroup","Crosshairs","viewportIndicators","autoPan","panSize","initMPRToolGroup","TrackballRotateTool","initVolume3DToolGroup","ReferenceLinesCommands","commandName","context","commandOptions","type","props","isRadio","groupId","primary","ToolbarService","_createActionButton","secondary","icon","label","isActive","tooltip","items","_createToggleButton","listeners","EVENTS","STACK_VIEWPORT_NEW_STACK","toggledState","ACTIVE_VIEWPORT_ID_CHANGED","_createToolButton","windowLevelPresets","defaults","_createWwwcPreset","preset","title","subtitle","toString","commands","toolGroupIds","_createSetToolActiveCommands","map","isAction","renderer","WindowLevelMenuItem","rows","columns","protocolId","NON_IMAGE_MODALITIES","ohif","tracked","dicomsr","dicomvideo","dicompdf","dicomSeg","dicomRT","extensionDependencies","modeFactory","modeConfiguration","_activatePanelTriggersSubscriptions","routeName","displayName","i18n","t","onModeEnter","servicesManager","measurementService","toolbarService","panelService","customizationService","services","unsubscribe","clearMeasurements","initToolGroups","setDefaultTool","itemId","interactionType","subscribe","VIEWPORT_ADDED","activateTool","recordInteraction","getDefaultTool","init","addButtons","toolbarButtons","moreTools","moreToolsMpr","createButtonSection","addModeCustomizations","value","onModeExit","syncGroupService","segmentationService","cornerstoneViewportService","forEach","sub","destroy","validationTags","study","series","isValidMode","modalities","split","filter","modality","indexOf","length","routes","path","layoutTemplate","leftPanels","rightPanels","rightPanelDefaultClosed","viewports","namespace","displaySetsToDisplay","extensions","hangingProtocol","sopClassHandlers","hotkeys","hotkeyBindings"],"sourceRoot":""}