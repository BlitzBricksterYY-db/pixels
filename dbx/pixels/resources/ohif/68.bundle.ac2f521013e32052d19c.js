"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[68],{76068:(o,e,t)=>{t.r(e),t.d(e,{default:()=>P,initToolGroups:()=>l,moreTools:()=>r,toolbarButtons:()=>R});var n=t(14283),a=t(92344);const i=JSON.parse('{"UU":"@ohif/mode-longitudinal"}').UU;const l=function(o,e,t){!function(o,e,t,n){const a=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:i,Enums:l}=a.exports,c={active:[{toolName:i.WindowLevel,bindings:[{mouseButton:l.MouseBindings.Primary}]},{toolName:i.Pan,bindings:[{mouseButton:l.MouseBindings.Auxiliary}]},{toolName:i.Zoom,bindings:[{mouseButton:l.MouseBindings.Secondary}]},{toolName:i.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:i.Length},{toolName:i.ArrowAnnotate,configuration:{getTextCallback:(o,e)=>t.runCommand("arrowTextCallback",{callback:o,eventDetails:e}),changeTextCallback:(o,e,n)=>t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}},{toolName:i.Bidirectional},{toolName:i.DragProbe},{toolName:i.EllipticalROI},{toolName:i.CircleROI},{toolName:i.RectangleROI},{toolName:i.StackScroll},{toolName:i.Angle},{toolName:i.CobbAngle},{toolName:i.PlanarFreehandROI},{toolName:i.Magnify},{toolName:i.SegmentationDisplay},{toolName:i.CalibrationLine}],enabled:[{toolName:i.ImageOverlayViewer}],disabled:[{toolName:i.ReferenceLines}]};e.createToolGroupAndAddTools(n,c)}(o,e,t,"default"),function(o,e,t){const n=o.getModuleEntry("@ohif/extension-cornerstone-dicom-sr.utilityModule.tools");if(!n)return;const a=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:i}=n.exports,{toolNames:l,Enums:c}=a.exports,s={active:[{toolName:l.WindowLevel,bindings:[{mouseButton:c.MouseBindings.Primary}]},{toolName:l.Pan,bindings:[{mouseButton:c.MouseBindings.Auxiliary}]},{toolName:l.Zoom,bindings:[{mouseButton:c.MouseBindings.Secondary}]},{toolName:l.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:i.SRLength},{toolName:i.SRArrowAnnotate},{toolName:i.SRBidirectional},{toolName:i.SREllipticalROI},{toolName:i.SRCircleROI}],enabled:[{toolName:i.DICOMSRDisplay,bindings:[]}]};e.createToolGroupAndAddTools("SRToolGroup",s)}(o,e),function(o,e,t){const n=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:a,Enums:i}=n.exports,l={active:[{toolName:a.WindowLevel,bindings:[{mouseButton:i.MouseBindings.Primary}]},{toolName:a.Pan,bindings:[{mouseButton:i.MouseBindings.Auxiliary}]},{toolName:a.Zoom,bindings:[{mouseButton:i.MouseBindings.Secondary}]},{toolName:a.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:a.Length},{toolName:a.ArrowAnnotate,configuration:{getTextCallback:(o,e)=>t.runCommand("arrowTextCallback",{callback:o,eventDetails:e}),changeTextCallback:(o,e,n)=>t.runCommand("arrowTextCallback",{callback:n,data:o,eventDetails:e})}},{toolName:a.Bidirectional},{toolName:a.DragProbe},{toolName:a.EllipticalROI},{toolName:a.CircleROI},{toolName:a.RectangleROI},{toolName:a.StackScroll},{toolName:a.Angle},{toolName:a.CobbAngle},{toolName:a.PlanarFreehandROI},{toolName:a.SegmentationDisplay}],disabled:[{toolName:a.Crosshairs,configuration:{viewportIndicators:!1,autoPan:{enabled:!1,panSize:10}}},{toolName:a.ReferenceLines}]};e.createToolGroupAndAddTools("mpr",l)}(o,e,t),function(o,e){const t=o.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:n,Enums:a}=t.exports,i={active:[{toolName:n.TrackballRotateTool,bindings:[{mouseButton:a.MouseBindings.Primary}]},{toolName:n.Zoom,bindings:[{mouseButton:a.MouseBindings.Secondary}]},{toolName:n.Pan,bindings:[{mouseButton:a.MouseBindings.Auxiliary}]}]};e.createToolGroupAndAddTools("volume3d",i)}(o,e)};var c=t(50719);const s=[{commandName:"setSourceViewportForReferenceLinesTool",context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"ReferenceLines"},context:"CORNERSTONE"}],r=[{id:"MoreTools",type:"ohif.splitButton",props:{isRadio:!0,groupId:"MoreTools",primary:n.hx._createActionButton("Reset","tool-reset","Reset View",[{commandName:"resetViewport",commandOptions:{},context:"CORNERSTONE"}],"Reset"),secondary:{icon:"chevron-down",label:"",isActive:!0,tooltip:"More Tools"},items:[n.hx._createActionButton("Reset","tool-reset","Reset View",[{commandName:"resetViewport",commandOptions:{},context:"CORNERSTONE"}],"Reset"),n.hx._createActionButton("rotate-right","tool-rotate-right","Rotate Right",[{commandName:"rotateViewportCW",commandOptions:{},context:"CORNERSTONE"}],"Rotate +90"),n.hx._createActionButton("flip-horizontal","tool-flip-horizontal","Flip Horizontally",[{commandName:"flipViewportHorizontal",commandOptions:{},context:"CORNERSTONE"}],"Flip Horizontal"),n.hx._createToggleButton("ImageSliceSync","link","Image Slice Sync",[{commandName:"toggleImageSliceSync"}],"Enable position synchronization on stack viewports",{listeners:{[c.EVENTS.STACK_VIEWPORT_NEW_STACK]:{commandName:"toggleImageSliceSync",commandOptions:{toggledState:!0}}}}),n.hx._createToggleButton("ReferenceLines","tool-referenceLines","Reference Lines",s,"Show Reference Lines",{listeners:{[c.EVENTS.STACK_VIEWPORT_NEW_STACK]:s,[c.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]:s}}),n.hx._createToggleButton("ImageOverlayViewer","toggle-dicom-overlay","Image Overlay",[{commandName:"setToolActive",commandOptions:{toolName:"ImageOverlayViewer"},context:"CORNERSTONE"}],"Image Overlay",{isActive:!0}),n.hx._createToolButton("StackScroll","tool-stack-scroll","Stack Scroll",[{commandName:"setToolActive",commandOptions:{toolName:"StackScroll"},context:"CORNERSTONE"}],"Stack Scroll"),n.hx._createActionButton("invert","tool-invert","Invert",[{commandName:"invertViewport",commandOptions:{},context:"CORNERSTONE"}],"Invert Colors"),n.hx._createToolButton("Probe","tool-probe","Probe",[{commandName:"setToolActive",commandOptions:{toolName:"DragProbe"},context:"CORNERSTONE"}],"Probe"),n.hx._createToggleButton("cine","tool-cine","Cine",[{commandName:"toggleCine",context:"CORNERSTONE"}],"Cine"),n.hx._createToolButton("Angle","tool-angle","Angle",[{commandName:"setToolActive",commandOptions:{toolName:"Angle"},context:"CORNERSTONE"}],"Angle"),n.hx._createToolButton("Magnify","tool-magnify","Magnify",[{commandName:"setToolActive",commandOptions:{toolName:"Magnify"},context:"CORNERSTONE"}],"Magnify"),n.hx._createToolButton("Rectangle","tool-rectangle","Rectangle",[{commandName:"setToolActive",commandOptions:{toolName:"RectangleROI"},context:"CORNERSTONE"}],"Rectangle"),n.hx._createToolButton("CalibrationLine","tool-calibration","Calibration",[{commandName:"setToolActive",commandOptions:{toolName:"CalibrationLine"},context:"CORNERSTONE"}],"Calibration Line"),n.hx._createActionButton("TagBrowser","list-bullets","Dicom Tag Browser",[{commandName:"openDICOMTagViewer",commandOptions:{},context:"DEFAULT"}],"Dicom Tag Browser")]}}],m=[{commandName:"setSourceViewportForReferenceLinesTool",context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"ReferenceLines"},context:"CORNERSTONE"}],d=[{id:"MoreToolsMpr",type:"ohif.splitButton",props:{isRadio:!0,groupId:"MoreTools",primary:n.hx._createActionButton("Reset","tool-reset","Reset View",[{commandName:"resetViewport",commandOptions:{},context:"CORNERSTONE"}],"Reset"),secondary:{icon:"chevron-down",label:"",isActive:!0,tooltip:"More Tools"},items:[n.hx._createActionButton("Reset","tool-reset","Reset View",[{commandName:"resetViewport",commandOptions:{},context:"CORNERSTONE"}],"Reset"),n.hx._createToggleButton("ImageSliceSync","link","Image Slice Sync",[{commandName:"toggleImageSliceSync"}],"Enable position synchronization on stack viewports",{listeners:{[c.EVENTS.STACK_VIEWPORT_NEW_STACK]:{commandName:"toggleImageSliceSync",commandOptions:{toggledState:!0}}}}),n.hx._createToggleButton("ReferenceLines","tool-referenceLines","Reference Lines",m,"Show Reference Lines",{listeners:{[c.EVENTS.STACK_VIEWPORT_NEW_STACK]:m,[c.EVENTS.ACTIVE_VIEWPORT_ID_CHANGED]:m}}),n.hx._createToggleButton("ImageOverlayViewer","toggle-dicom-overlay","Image Overlay",[{commandName:"setToolActive",commandOptions:{toolName:"ImageOverlayViewer"},context:"CORNERSTONE"}],"Image Overlay",{isActive:!0}),n.hx._createToolButton("StackScroll","tool-stack-scroll","Stack Scroll",[{commandName:"setToolActive",commandOptions:{toolName:"StackScroll"},context:"CORNERSTONE"}],"Stack Scroll"),n.hx._createActionButton("invert","tool-invert","Invert",[{commandName:"invertViewport",commandOptions:{},context:"CORNERSTONE"}],"Invert Colors"),n.hx._createToolButton("Probe","tool-probe","Probe",[{commandName:"setToolActive",commandOptions:{toolName:"DragProbe"},context:"CORNERSTONE"}],"Probe"),n.hx._createToggleButton("cine","tool-cine","Cine",[{commandName:"toggleCine",context:"CORNERSTONE"}],"Cine"),n.hx._createToolButton("Angle","tool-angle","Angle",[{commandName:"setToolActive",commandOptions:{toolName:"Angle"},context:"CORNERSTONE"}],"Angle"),n.hx._createToolButton("Rectangle","tool-rectangle","Rectangle",[{commandName:"setToolActive",commandOptions:{toolName:"RectangleROI"},context:"CORNERSTONE"}],"Rectangle"),n.hx._createActionButton("TagBrowser","list-bullets","Dicom Tag Browser",[{commandName:"openDICOMTagViewer",commandOptions:{},context:"DEFAULT"}],"Dicom Tag Browser")]}}];var p=t(21683);const{windowLevelPresets:N}=n.defaults;function u(o,e,t){return{id:o.toString(),title:e,subtitle:t,type:"action",commands:[{commandName:"setWindowLevel",commandOptions:{...N[o]},context:"CORNERSTONE"}]}}const g=["default","mpr","SRToolGroup"];function T(o){return g.map((e=>({commandName:"setToolActive",commandOptions:{toolGroupId:e,toolName:o},context:"CORNERSTONE"})))}const R=[{id:"MeasurementTools",type:"ohif.splitButton",props:{groupId:"MeasurementTools",isRadio:!0,primary:n.hx._createToolButton("Length","tool-length","Length",[{commandName:"setToolActive",commandOptions:{toolName:"Length"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRLength",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Length"),secondary:{icon:"chevron-down",label:"",isActive:!0,tooltip:"More Measure Tools"},items:[n.hx._createToolButton("Length","tool-length","Length",[{commandName:"setToolActive",commandOptions:{toolName:"Length"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRLength",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Length Tool"),n.hx._createToolButton("Bidirectional","tool-bidirectional","Bidirectional",[{commandName:"setToolActive",commandOptions:{toolName:"Bidirectional"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRBidirectional",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Bidirectional Tool"),n.hx._createToolButton("ArrowAnnotate","tool-annotate","Annotation",[{commandName:"setToolActive",commandOptions:{toolName:"ArrowAnnotate"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRArrowAnnotate",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Arrow Annotate"),n.hx._createToolButton("EllipticalROI","tool-elipse","Ellipse",[{commandName:"setToolActive",commandOptions:{toolName:"EllipticalROI"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SREllipticalROI",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Ellipse Tool"),n.hx._createToolButton("CircleROI","tool-circle","Circle",[{commandName:"setToolActive",commandOptions:{toolName:"CircleROI"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRCircleROI",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Circle Tool")]}},{id:"Zoom",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-zoom",label:"Zoom",commands:T("Zoom")}},{id:"WindowLevel",type:"ohif.splitButton",props:{groupId:"WindowLevel",primary:n.hx._createToolButton("WindowLevel","tool-window-level","Window Level",[{commandName:"setToolActive",commandOptions:{toolName:"WindowLevel"},context:"CORNERSTONE"}],"Window Level"),secondary:{icon:"chevron-down",label:"W/L Manual",isActive:!0,tooltip:"W/L Presets"},isAction:!0,renderer:p.d4,items:[u(1,"Soft tissue","400 / 40"),u(2,"Lung","1500 / -600"),u(3,"Liver","150 / 90"),u(4,"Bone","2500 / 480"),u(5,"Brain","80 / 40")]}},{id:"Pan",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-move",label:"Pan",commands:T("Pan")}},{id:"Capture",type:"ohif.action",props:{icon:"tool-capture",label:"Capture",type:"action",commands:[{commandName:"showDownloadViewportModal",commandOptions:{},context:"CORNERSTONE"}]}},{id:"Layout",type:"ohif.layoutSelector",props:{rows:3,columns:3}},{id:"MPR",type:"ohif.action",props:{type:"toggle",icon:"icon-mpr",label:"MPR",commands:[{commandName:"toggleHangingProtocol",commandOptions:{protocolId:"mpr"},context:"DEFAULT"}]}},{id:"Crosshairs",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-crosshair",label:"Crosshairs",commands:[{commandName:"setToolActive",commandOptions:{toolName:"Crosshairs",toolGroupId:"mpr"},context:"CORNERSTONE"}]}}],O=["SM","ECG","SR","SEG","RTSTRUCT"],S="@ohif/extension-default.layoutTemplateModule.viewerLayout",E="@ohif/extension-default.sopClassHandlerModule.stack",x="@ohif/extension-measurement-tracking.panelModule.trackedMeasurements",h="@ohif/extension-measurement-tracking.panelModule.seriesList",v="@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked",C="@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr",y="@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr",A="@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video",f="@ohif/extension-dicom-video.viewportModule.dicom-video",b="@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf",B="@ohif/extension-dicom-pdf.viewportModule.dicom-pdf",w="@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg",M="@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg",I="@ohif/extension-cornerstone-dicom-seg.panelModule.panelSegmentation",L="@ohif/extension-cornerstone-dicom-rt.viewportModule.dicom-rt",_="@ohif/extension-cornerstone-dicom-rt.sopClassHandlerModule.dicom-rt",k={"@ohif/extension-default":"^3.0.0","@ohif/extension-cornerstone":"^3.0.0","@ohif/extension-measurement-tracking":"^3.0.0","@ohif/extension-cornerstone-dicom-sr":"^3.0.0","@ohif/extension-cornerstone-dicom-seg":"^3.0.0","@ohif/extension-cornerstone-dicom-rt":"^3.0.0","@ohif/extension-dicom-pdf":"^3.0.1","@ohif/extension-dicom-video":"^3.0.1"};const P={id:i,modeFactory:function({modeConfiguration:o}){let e=[];return{id:i,routeName:"viewer",displayName:a.A.t("Modes:Basic Viewer"),onModeEnter:({servicesManager:o,extensionManager:e,commandsManager:t})=>{const{measurementService:n,toolbarService:a,toolGroupService:i,panelService:c,customizationService:s}=o.services;let m;n.clearMeasurements(),l(e,i,t),a.setDefaultTool({groupId:"WindowLevel",itemId:"WindowLevel",interactionType:"tool",commands:[{commandName:"setToolActive",commandOptions:{toolName:"WindowLevel"},context:"CORNERSTONE"}]});({unsubscribe:m}=i.subscribe(i.EVENTS.VIEWPORT_ADDED,(()=>{a.recordInteraction(a.getDefaultTool()),m()}))),a.init(e),a.addButtons([...R,...r,...d]),a.createButtonSection("default",["MeasurementTools","Zoom","WindowLevel","Pan","Capture","Layout","MPR","MoreTools"]),a.createButtonSection("mpr",["MeasurementTools","Zoom","WindowLevel","Pan","Capture","Layout","MPR","Crosshairs","MoreToolsMpr"]),s.addModeCustomizations([{id:"segmentation.disableEditing",value:!0}])},onModeExit:({servicesManager:o})=>{const{toolGroupService:t,syncGroupService:n,toolbarService:a,segmentationService:i,cornerstoneViewportService:l}=o.services;e.forEach((o=>o.unsubscribe())),e=[],t.destroy(),n.destroy(),i.destroy(),l.destroy()},validationTags:{study:[],series:[]},isValidMode:function({modalities:o}){return!!o.split("\\").filter((o=>-1===O.indexOf(o))).length},routes:[{path:"longitudinal",layoutTemplate:()=>({id:S,props:{leftPanels:[h],rightPanels:[I,x],rightPanelDefaultClosed:!0,viewports:[{namespace:v,displaySetsToDisplay:[E]},{namespace:y,displaySetsToDisplay:[C]},{namespace:f,displaySetsToDisplay:[A]},{namespace:B,displaySetsToDisplay:[b]},{namespace:M,displaySetsToDisplay:[w]},{namespace:L,displaySetsToDisplay:[_]}]}})}],extensions:k,hangingProtocol:"default",sopClassHandlers:[A,w,E,b,C,_],hotkeys:[...n.ot.defaults.hotkeyBindings],...o}},extensionDependencies:k}}}]);
//# sourceMappingURL=68.bundle.ac2f521013e32052d19c.js.map